{
  "hash": "7ff81b7e05bb6c97fc77495d3c47b8b2",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Synthetic Data Exercise\"\n---\n# Introduction and Data\nThis synthetic data generation is taken from the notes while reducing the number of variables, so I can understand how to generate and explore the data better. This synthetic dataset includes basic patient-level variables such as age, gender, treatment group, and blood pressure. I wanted to explore the relationship these variables had with each other, especially how they affect blood pressure. Blood pressure was not intentially associated with any other variables and was generated randomly. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# make sure the packages are installed\n# Load required packages\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(purrr)\nlibrary(lubridate)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'lubridate'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\n# Set a seed for reproducibility\nset.seed(123)\n# Define the number of observations (patients) to generate\nn_patients <- 100\n\nsyn_dat <- data.frame(\n  PatientID = numeric(n_patients),\n  Age = numeric(n_patients),\n  Gender = character(n_patients),\n  TreatmentGroup = character(n_patients),\n    BloodPressure = numeric(n_patients)\n)\n\n#Patient ID\nsyn_dat$PatientID <- 1:n_patients\n\n#Age (numeric variable)\nsyn_dat$Age <- round(rnorm(n_patients, mean = 45, sd = 10), 1)\n\n#Gender (categorical variable)\nsyn_dat$Gender <- purrr::map_chr(sample(c(\"Male\", \"Female\"), n_patients, replace = TRUE), as.character)\n\n#Treatment Group (categorical variable)\nsyn_dat$TreatmentGroup <- purrr::map_chr(sample(c(\"A\", \"B\", \"Placebo\"), n_patients, replace = TRUE), as.character)\n\n#Blood Pressure (numeric variable)\nsyn_dat$BloodPressure <- round(runif(n_patients, min = 90, max = 160), 1)\n\nhead(syn_dat)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  PatientID  Age Gender TreatmentGroup BloodPressure\n1         1 39.4 Female              B         135.1\n2         2 42.7 Female              B         131.7\n3         3 60.6 Female              A         112.5\n4         4 45.7   Male              B         152.4\n5         5 46.3 Female              A         133.8\n6         6 62.2 Female              A         111.2\n```\n\n\n:::\n:::\n\n\n# Plotting\nThese plots explore how blood pressure varies across treatment groups, gender, and age in the synthetic dataset. Boxplots are used to compare the distribution of blood pressure by treatment group and gender, while a scatterplot with a fitted regression line illustrates the relationship between age and blood pressure.\n\n::: {.cell}\n\n```{.r .cell-code}\n# ggplot2 boxplot for blood pressure by treatment group\nggplot(syn_dat, aes(x = TreatmentGroup, y = BloodPressure)) +\n  geom_boxplot() +\n  labs(x = \"Treatment Group\", y = \"BloodPressure\") +\n  theme_bw()\n```\n\n::: {.cell-output-display}\n![](data-exercise_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# ggplot2 boxplot for blood pressure by gender\nggplot(syn_dat, aes(x = Gender, y = BloodPressure)) +\n  geom_boxplot() +\n  labs(x = \"Gender\", y = \"BloodPressure\") +\n  theme_bw()\n```\n\n::: {.cell-output-display}\n![](data-exercise_files/figure-html/unnamed-chunk-2-2.png){width=672}\n:::\n\n```{.r .cell-code}\n#ggplot2 scatterplot for blood pressure by age\nggplot(syn_dat, aes(x = Age, y = BloodPressure)) +\n  geom_point(alpha = 0.5) +\n  geom_smooth(method = \"lm\", se = FALSE) +\n  labs(\n    title = \"Age vs Blood Pressure\",\n    x = \"Age\",\n    y = \"Blood Pressure\"\n  ) +\n  theme_bw()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](data-exercise_files/figure-html/unnamed-chunk-2-3.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_bp <- lm(BloodPressure ~ Age + Gender + TreatmentGroup, data = syn_dat)\nsummary(lm_bp)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = BloodPressure ~ Age + Gender + TreatmentGroup, data = syn_dat)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-32.470 -16.416  -2.604  15.987  39.595 \n\nCoefficients:\n                       Estimate Std. Error t value Pr(>|t|)    \n(Intercept)           121.45551   11.79335  10.299   <2e-16 ***\nAge                     0.08979    0.22940   0.391    0.696    \nGenderMale             -1.57000    4.11804  -0.381    0.704    \nTreatmentGroupB        -1.56911    4.86859  -0.322    0.748    \nTreatmentGroupPlacebo  -3.40184    5.06002  -0.672    0.503    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 20.29 on 95 degrees of freedom\nMultiple R-squared:  0.009949,\tAdjusted R-squared:  -0.03174 \nF-statistic: 0.2387 on 4 and 95 DF,  p-value: 0.9158\n```\n\n\n:::\n\n```{.r .cell-code}\nglm_bp <- lm(BloodPressure ~ Age + Gender + TreatmentGroup, data = syn_dat)\nsummary(lm_bp)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = BloodPressure ~ Age + Gender + TreatmentGroup, data = syn_dat)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-32.470 -16.416  -2.604  15.987  39.595 \n\nCoefficients:\n                       Estimate Std. Error t value Pr(>|t|)    \n(Intercept)           121.45551   11.79335  10.299   <2e-16 ***\nAge                     0.08979    0.22940   0.391    0.696    \nGenderMale             -1.57000    4.11804  -0.381    0.704    \nTreatmentGroupB        -1.56911    4.86859  -0.322    0.748    \nTreatmentGroupPlacebo  -3.40184    5.06002  -0.672    0.503    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 20.29 on 95 degrees of freedom\nMultiple R-squared:  0.009949,\tAdjusted R-squared:  -0.03174 \nF-statistic: 0.2387 on 4 and 95 DF,  p-value: 0.9158\n```\n\n\n:::\n:::\n\n\n# Additional Dataset Generation \n\nI decided to try to generate my own completely separate dataset based on how the previous dataset was generated. This new synthetic dataset represents 250 students and includes variables such as age, gender, sleep hours, study hours, and exam scores. Exam scores were generated to increase with study hours and to vary nonlinearly with sleep hours, reflecting optimal performance around 7–8 hours of sleep.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(123)\n\n# Number of students\nn_students <- 250\n\n# Generate synthetic data\nsyn_students <- data.frame(\n    studentID = numeric(n_students),\n    Age = numeric(n_students),\n    Gender = character(n_students),\n    SleepHours = numeric(n_students),\n    StudyHours = numeric(n_students),\n    ExamScore = numeric(n_students)\n)\n#Student ID\nsyn_students$studentID <- 1:n_students\n\n#Age (numeric variable)\nsyn_students$Age <- round(rnorm(n_students, mean = 20, sd = 3), 1)\n\n#Gender (categorical variable)\nsyn_students$Gender <- purrr::map_chr(sample(c(\"Male\", \"Female\"), n_students, replace = TRUE), as.character)\n\n#Sleep Hours (numeric variable)\nsyn_students$SleepHours <- round(rnorm(n_students, mean = 7, sd = 1.2), 1)\n\n#Study Hours (numeric variable)\nsyn_students$StudyHours <- round(rnorm(n_students, mean = 10, sd = 4), 1)\n\n#Exam Scores (numeric variable) #AI was used to help generate the Exam Score Dependencies\nsyn_students$ExamScore <- round(50 + 2.5 * syn_students$StudyHours + -3 * (syn_students$SleepHours - 7.5)^2 +\n     rnorm(n_students, mean = 0, sd = 8), 1 )\n\nhead(syn_students)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  studentID  Age Gender SleepHours StudyHours ExamScore\n1         1 18.3 Female        6.3       13.8      95.8\n2         2 19.3 Female        5.8       10.7      74.5\n3         3 24.7 Female        7.2        5.7      78.7\n4         4 20.2 Female        7.0        4.4      70.2\n5         5 20.4   Male        4.9       18.3      74.4\n6         6 25.1   Male        7.0        7.3      71.3\n```\n\n\n:::\n\n```{.r .cell-code}\n#Save as RDS\nsaveRDS(syn_students, file = \"synthetic_students.rds\")\n```\n:::\n\n\n# Plotting\n\nThe plots explore the relationships between exam scores and the student variables. Boxplots show how exam scores vary by gender, while scatterplots illustrate how exam scores change with study hours, sleep hours, and age. The study hours plot reveals a positive linear trend, the sleep hours plot shows a curved relationship with optimal performance around 7–8 hours, and the age plot shows little effect, as expected. These plots confirm that the synthetic data reflect the relationships built into the dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Boxplot of Exam Score by Gender\nplot1 <- ggplot(syn_students, aes(x = Gender, y = ExamScore)) +\n  geom_boxplot(fill = \"lightgreen\") +\n  labs(\n    x = \"Gender\",\n    y = \"Exam Score\",\n    title = \"Exam Score by Gender\"\n  ) +\n  theme_bw()\n\n#Scatterplot: Study Hours vs Exam Score\nplot2 <- ggplot(syn_students, aes(x = StudyHours, y = ExamScore)) +\n  geom_point(alpha = 0.5, color = \"darkblue\") +\n  geom_smooth(method = \"lm\", se = FALSE, color = \"red\") +\n  labs(\n    x = \"Study Hours\",\n    y = \"Exam Score\",\n    title = \"Relationship Between Study Hours and Exam Score\"\n  ) +\n  theme_bw()\n\n#Scatterplot: Sleep Hours vs Exam Score \nplot3 <- ggplot(syn_students, aes(x = SleepHours, y = ExamScore)) +\n  geom_point(alpha = 0.5, color = \"darkorange\") +\n  geom_smooth(se = FALSE, color = \"red\") +\n  labs(\n    x = \"Sleep Hours\",\n    y = \"Exam Score\",\n    title = \"Relationship Between Sleep Hours and Exam Score\"\n  ) +\n  theme_bw()\n\n#Scatterplot: Age vs Exam Score\nplot4 <- ggplot(syn_students, aes(x = Age, y = ExamScore)) +\n  geom_point(alpha = 0.5, color = \"purple\") +\n  geom_smooth(method = \"lm\", se = FALSE, color = \"red\") +\n  labs(\n    x = \"Age\",\n    y = \"Exam Score\",\n    title = \"Relationship Between Age and Exam Score\"\n  ) +\n  theme_bw()\n\nplots <- list(plot1, plot2, plot3, plot4)\nfilenames <- c(\"gender_vs_score.png\", \"study_vs_score.png\", \"sleep_vs_score.png\", \"age_vs_score.png\")\n\nfor(i in seq_along(plots)) {\n  ggsave(\n    filename = file.path(\"figures\", filenames[i]),\n    plot = plots[[i]],\n    width = 6,\n    height = 4,\n    dpi = 300\n  )\n}\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_es <- lm(ExamScore ~ SleepHours + StudyHours, data = syn_students)\nsummary(lm_es)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = ExamScore ~ SleepHours + StudyHours, data = syn_students)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-37.801  -5.914   0.270   5.829  26.225 \n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)    \n(Intercept)  21.2426     4.0735   5.215 3.89e-07 ***\nSleepHours    3.6305     0.5311   6.835 6.36e-11 ***\nStudyHours    2.4002     0.1490  16.112  < 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 9.788 on 247 degrees of freedom\nMultiple R-squared:  0.5499,\tAdjusted R-squared:  0.5463 \nF-statistic: 150.9 on 2 and 247 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n\n```{.r .cell-code}\nglm_es <- glm(ExamScore ~ SleepHours + StudyHours, data = syn_students, family = gaussian())\nsummary(glm_es)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nglm(formula = ExamScore ~ SleepHours + StudyHours, family = gaussian(), \n    data = syn_students)\n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)    \n(Intercept)  21.2426     4.0735   5.215 3.89e-07 ***\nSleepHours    3.6305     0.5311   6.835 6.36e-11 ***\nStudyHours    2.4002     0.1490  16.112  < 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for gaussian family taken to be 95.80345)\n\n    Null deviance: 52574  on 249  degrees of freedom\nResidual deviance: 23663  on 247  degrees of freedom\nAIC: 1855\n\nNumber of Fisher Scoring iterations: 2\n```\n\n\n:::\n:::\n",
    "supporting": [
      "data-exercise_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}